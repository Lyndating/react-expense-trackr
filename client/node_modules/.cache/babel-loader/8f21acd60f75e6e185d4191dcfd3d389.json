{"ast":null,"code":"var _jsxFileName = \"/Users/tingluo/Projects/Project2/expense-tracker/client/src/components/Profile/ProfileUpdate.js\";\nimport React, { Component } from 'react';\nimport createRequest from '../../request';\nimport { Form, Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProfileUpdate extends Component {\n  constructor() {\n    super();\n\n    this._handleChange = event => {\n      console.log('test');\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this._handleSubmit = event => {\n      event.preventDefault();\n      console.log('testing');\n      this.saveProfile();\n    };\n\n    this.saveProfile = () => {\n      console.log('test saveProfile');\n      const userData = this.state;\n      console.log(userData);\n      let token = localStorage.getItem('token');\n      fetch('http://localhost:3000/profile_update.json?', {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      }).then(response => response.json()).then(results => console.log(results)).then(response => response.json()).then(jsonResponse => {\n        // setSignupErrors(jsonResponse.errors);\n        console.log(jsonResponse.errors);\n      });\n    };\n\n    this.state = {\n      first_name: '',\n      last_name: '',\n      email: ''\n    };\n    this._handleChange = this._handleChange.bind(this);\n    this._handleSubmit = this._handleSubmit.bind(this);\n    this.saveProfile = this.saveProfile.bind(this);\n  }\n\n  componentDidMount() {\n    const fetchUser = () => {\n      createRequest(\"/profile.json\").then(response => {\n        this.setState(response);\n        console.log(this.state); // setTimeout(fetchCategories, 5000);\n      });\n    };\n\n    fetchUser();\n  } // dynamic function\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4 offset-md-4 bg-light p-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"bg-light\",\n        children: \"Update Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            name: \"first_name\",\n            onChange: this._handleChange,\n            value: this.state.first_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            name: \"last_name\",\n            onChange: this._handleChange,\n            value: this.state.last_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            name: \"email\",\n            type: \"email\",\n            onChange: this._handleChange,\n            value: this.state.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this._handleSubmit,\n          variant: \"secondary\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ProfileUpdate; // {props.errors ? \n//     <ul className = \"signup-form-errors\"> {props.errors.map((error) => (\n//         <li key={error.id}>{error.title}</li>\n//         ))}\n//     </ul> \n// : null}\n// function signUp (user) {\n//     fetch('http://localhost:3000/users', {\n//       method: 'POST',\n//       headers: {\n//         'Accept': 'application/json',\n//         'Content-Type': 'application/json'\n//       },\n//       body: JSON.stringify({\n//         user: {\n//           email: user.email,\n//           first_name: user.first_name,\n//           last_name: user.last_name,\n//           password: user.password,\n//           password_confirmation: user.password_confirmation\n//         }\n//       })\n//     })\n//     .then(response => response.json())\n//     .then(jsonResponse => {\n//       if (jsonResponse.errors) {\n//         setSignupErrors(jsonResponse.errors);\n//         console.log(jsonResponse.errors)\n//       }\n//       else {\n//         setUser(jsonResponse)\n//       }\n//     })\n//   }","map":{"version":3,"sources":["/Users/tingluo/Projects/Project2/expense-tracker/client/src/components/Profile/ProfileUpdate.js"],"names":["React","Component","createRequest","Form","Button","ProfileUpdate","constructor","_handleChange","event","console","log","setState","target","name","value","_handleSubmit","preventDefault","saveProfile","userData","state","token","localStorage","getItem","fetch","method","headers","body","JSON","stringify","then","response","json","results","jsonResponse","errors","first_name","last_name","email","bind","componentDidMount","fetchUser","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport createRequest from '../../request';\nimport { Form, Button } from 'react-bootstrap';\n\nclass ProfileUpdate extends Component {\n    constructor() {\n        super();\n        this.state = {\n          \n                first_name: '',\n                last_name: '',\n                email: ''    \n           \n        };\n        this._handleChange = this._handleChange.bind(this);\n        this._handleSubmit = this._handleSubmit.bind(this);\n        this.saveProfile = this.saveProfile.bind(this)\n    }\n\n    componentDidMount() {\n                \n        const fetchUser = () => {\n            createRequest(\"/profile.json\").then((response) => {\n              \n \n                this.setState(response);\n                console.log(this.state)\n               \n                // setTimeout(fetchCategories, 5000);\n            });\n        };\n        fetchUser();\n    }\n    \n\n    // dynamic function\n    _handleChange = (event) => {\n        console.log('test')\n        this.setState({[event.target.name]: event.target.value})\n    }\n    \n    _handleSubmit = (event) => {\n        event.preventDefault();\n        console.log('testing');\n        this.saveProfile()\n    }\n    \n\n    saveProfile = () => {\n        console.log('test saveProfile');\n        const userData = this.state;\n        console.log( userData );\n        let token = localStorage.getItem('token');\n        fetch('http://localhost:3000/profile_update.json?', {\n            method: 'PATCH',\n            headers: {\n                'Authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n            },body: JSON.stringify(userData),\n        })\n        .then(response => response.json())\n        .then(results => console.log(results))\n        .then(response => response.json())\n        .then(jsonResponse => {\n            // setSignupErrors(jsonResponse.errors);\n            console.log(jsonResponse.errors)\n        })\n    }\n\n    render() {\n        \n        return(\n            <div className=\"col-md-4 offset-md-4 bg-light p-3\">\n                <h3 className=\"bg-light\">Update Profile</h3>\n                <Form>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                    <Form.Label>First Name</Form.Label>\n                    <Form.Control name='first_name' onChange={ this._handleChange } value={this.state.first_name} />\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                    <Form.Label>Last Name</Form.Label>\n                    <Form.Control name='last_name' onChange={ this._handleChange } value={ this.state.last_name } />\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                    <Form.Label>Email address</Form.Label>\n                    <Form.Control name='email' type=\"email\" onChange={ this._handleChange } value={this.state.email}  />\n                </Form.Group>\n\n                <Button onClick={ this._handleSubmit }  variant=\"secondary\" type=\"submit\">\n                    Submit\n                </Button>\n                </Form>\n            </div>\n\n        );\n    };\n}\n\nexport default ProfileUpdate;\n\n\n// {props.errors ? \n//     <ul className = \"signup-form-errors\"> {props.errors.map((error) => (\n//         <li key={error.id}>{error.title}</li>\n//         ))}\n//     </ul> \n// : null}\n\n\n// function signUp (user) {\n//     fetch('http://localhost:3000/users', {\n//       method: 'POST',\n//       headers: {\n//         'Accept': 'application/json',\n//         'Content-Type': 'application/json'\n//       },\n//       body: JSON.stringify({\n//         user: {\n//           email: user.email,\n//           first_name: user.first_name,\n//           last_name: user.last_name,\n//           password: user.password,\n//           password_confirmation: user.password_confirmation\n//         }\n//       })\n//     })\n//     .then(response => response.json())\n//     .then(jsonResponse => {\n//       if (jsonResponse.errors) {\n//         setSignupErrors(jsonResponse.errors);\n//         console.log(jsonResponse.errors)\n//       }\n//       else {\n//         setUser(jsonResponse)\n//       }\n//     })\n//   }"]},"metadata":{},"sourceType":"module"}